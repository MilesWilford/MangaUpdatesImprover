
appAPI._cr_config={appID:function(){var a=appAPI.appInfo;if(a){return appAPI.appInfo.id;}else{return appAPI.appID;}}};$jquery.extend(appAPI._cr_config,{sidebar:{base:{production:"https://w9u6a2p6.ssl.hwcdn.net",staging:"http://staging-app.crossrider.com"},css:"/plugins/stylesheets/sidebar.css",themes:"/plugins/images/sidebar"}});$jquery.extend(appAPI._cr_config,{notifications_manager:{base:{production:"https://w9u6a2p6.ssl.hwcdn.net",staging:"http://staging-app.crossrider.com"},statsBase:{production:"http://nstats.crossrider.com",staging:"http://staging-app.crossrider.com"},geolocation:"http://www.geoplugin.net/json.gp?jsoncallback=fn",meta:"/notifier/"+appAPI._cr_config.appID()+"/meta.json",messages:"/notifier/"+appAPI._cr_config.appID()+"/{id}.json",logger:"/notifications.gif",loggerAPI:"/api_notifications.gif"},notifications:{base:{production:"https://w9u6a2p6.ssl.hwcdn.net",staging:"http://staging-app.crossrider.com"},css:"/plugins/stylesheets/notifications.css",themes:"/plugins/images/notifications"}});$jquery.extend(appAPI._cr_config,{debug_app:{debug_page:["crossrider.com","staging.crossrider.com"]}});$jquery.extend(appAPI._cr_config,{resources:{jQuery:{url:"https://ajax.googleapis.com/ajax/libs/jquery/{version}/jquery.min.js",cacheTime:10},jQueryUI:{url:"https://ajax.googleapis.com/ajax/libs/jqueryui/{version}/jquery-ui.min.js",theme:"https://ajax.googleapis.com/ajax/libs/jqueryui/{version}/themes/{theme}/jquery-ui.css",cacheTime:10},base:{production:"http://resources.crossrider.com",staging:"http://staging-app.crossrider.com"},update:"/apps/{appId}/resources/meta/{lastVersion}"}});(function(c){var b=!1,a=/xyz/.test(function(){})?/\b_super\b/:/.*/;c.Class=function(){};c.Class.extend=function(e){function j(){!b&&this.init&&this.init.apply(this,arguments);}var i=this.prototype;b=!0;var h=new this;b=!1;for(var g in e){h[g]="function"==typeof e[g]&&"function"==typeof i[g]&&a.test(e[g])?function(f,d){return function(){var l=this._super;this._super=i[f];var k=d.apply(this,arguments);this._super=l;return k;};}(g,e[g]):e[g];}j.prototype=h;j.prototype.constructor=j;j.extend=arguments.callee;return j;};})($jquery_171);appAPI.JSONParser={};(function(){function k(a){return 10>a?"0"+a:a;}function o(a){p.lastIndex=0;return p.test(a)?'"'+a.replace(p,function(a){var c=r[a];return"string"===typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4);})+'"':'"'+a+'"';}function m(a,i){var c,d,h,n,g=e,f,b=i[a];b&&"object"===typeof b&&"function"===typeof b.to_appAPI_JSON&&(b=b.to_appAPI_JSON(a));"function"===typeof j&&(b=j.call(i,a,b));switch(typeof b){case"string":return o(b);case"number":return isFinite(b)?""+b:"null";case"boolean":case"null":return""+b;case"object":if(!b){return"null";}e+=l;f=[];if("[object Array]"===Object.prototype.toString.apply(b)){n=b.length;for(c=0;c<n;c+=1){f[c]=m(c,b)||"null";}h=0===f.length?"[]":e?"[\n"+e+f.join(",\n"+e)+"\n"+g+"]":"["+f.join(",")+"]";e=g;return h;}if(j&&"object"===typeof j){n=j.length;for(c=0;c<n;c+=1){d=j[c],"string"===typeof d&&(h=m(d,b))&&f.push(o(d)+(e?": ":":")+h);}}else{for(d in b){Object.hasOwnProperty.call(b,d)&&(h=m(d,b))&&f.push(o(d)+(e?": ":":")+h);}}h=0===f.length?"{}":e?"{\n"+e+f.join(",\n"+e)+"\n"+g+"}":"{"+f.join(",")+"}";e=g;return h;}}if("function"!==typeof Date.prototype.to_appAPI_JSON){Date.prototype.to_appAPI_JSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+k(this.getUTCMonth()+1)+"-"+k(this.getUTCDate())+"T"+k(this.getUTCHours())+":"+k(this.getUTCMinutes())+":"+k(this.getUTCSeconds())+"Z":null;},String.prototype.to_appAPI_JSON=Number.prototype.to_appAPI_JSON=Boolean.prototype.to_appAPI_JSON=function(){return this.valueOf();};}var q=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,p=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e,l,r={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},j;if("function"!==typeof appAPI.JSONParser.stringify){appAPI.JSONParser.stringify=function(a,i,c){var d;l=e="";if("number"===typeof c){for(d=0;d<c;d+=1){l+=" ";}}else{"string"===typeof c&&(l=c);}if((j=i)&&"function"!==typeof i&&("object"!==typeof i||"number"!==typeof i.length)){throw Error("appAPI_JSON.stringify");}return m("",{"":a});};}if("function"!==typeof appAPI.JSONParser.parse){appAPI.JSONParser.parse=function(a,e){function c(a,d){var g,f,b=a[d];if(b&&"object"===typeof b){for(g in b){Object.hasOwnProperty.call(b,g)&&(f=c(b,g),void 0!==f?b[g]=f:delete b[g]);}}return e.call(a,d,b);}var d,a=""+a;q.lastIndex=0;q.test(a)&&(a=a.replace(q,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4);}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){return d=eval("("+a+")"),"function"===typeof e?c({"":d},""):d;}throw new SyntaxError("appAPI_JSON.parse");};}})();(function(a){appAPI.isMatchPages=function(){var c,b=false;a(a.makeArray(arguments)).each(function(d,f){var h="";c=typeof(f)=="string"?new RegExp("^http.?\\:\\/\\/(?:www\\.)?"+f.replace(/^https?:\/\//,"").replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"),"i"):f;if(typeof appAPI.dom.location!=="undefined"){if(typeof appAPI.dom.location.href==="string"){h=appAPI.dom.location.href;}}else{try{h=document.location.href;}catch(g){}}if(c.test(h)){b=true;}});return b;};})($jquery_171);appAPI.internal.initBaseCrossriderJQueryPlugins=function(a){(function(){a.fn.addBaseClass=function(b){return this.each(function(){var c=a(this).attr("class").split(" ")[0];a(this).attr("class",c+" "+b);});};})();(function(){a.fn.fireExtensionEvent=function(b,c){return this.each(function(){c=c!=undefined?appAPI.JSONParser.stringify(c):"__crossrider_empty";this.setAttribute("crossrider_data_store_temp",c);if(a.browser.msie){this.setAttribute("fake_"+b,Math.random());}if(document.createEvent){var d=document.createEvent("Events");d.initEvent("fake_"+b,true,false);this.dispatchEvent(d);}});};})();(function(){a.fn.bindExtensionEvent=function(b,d){function c(e){var f;e=a(e);if(e.attr("crossrider_data_store_temp")!="__crossrider_empty"){f=a.parseJSON(e.attr("crossrider_data_store_temp"));return f;}else{return null;}}return this.each(function(){if(typeof this.attachEvent!=="undefined"){this.attachEvent("onpropertychange",a.proxy(function(){if(event.propertyName=="fake_"+b){d.call(this,a.event.fix(event),c(this));}},this));}else{if(typeof this.addEventListener!=="undefined"){this.addEventListener("fake_"+b,a.proxy(function(f){d.call(this,a.event.fix(f),c(this));},this),false);}}});};})();};appAPI.internal.initBaseCrossriderJQueryPlugins($jquery_171);
